<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<link rel="bookmark" type="image/x-icon" href="/img/logo_miccall.png">
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    Harrison
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/css/mic_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="miccall">
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
</head>
    
		
<!-- Layouts -->



<!--  ä»£ç æ¸²æŸ“  -->
<link rel="stylesheet" href="/css/prism_default.css">
<link rel="stylesheet" href="/css/typo.css">
<!-- æ–‡ç« é¡µ -->
<body class="is-loading">
    <!-- Wrapper å¤–åŒ… s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro å¤´éƒ¨æ˜¾ç¤º s -->
        <!-- Intro å¤´éƒ¨æ˜¾ç¤º e -->
        <!-- Header å¤´éƒ¨logo start -->
        <header id="header">
    <a href="/" class="logo">æ¬¢è¿æ­¥å…¥</a>
</header>
        <!-- Nav å¯¼èˆªæ¡ start -->
        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  ä¸»é¡µ  --> 
			<li>
	            <a href="/" rel="nofollow">ä¸»é¡µ</a>
	        </li>
			<!-- categories_name  åˆ†ç±»   --> 
	        
	        <li class="active">
	            <a href="#s1">åˆ†ç±»</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Algorithm/">Algorithm</a>
	                    </li></ul>
	        </li>
	        
	        <!-- archives  å½’æ¡£   --> 
	        
	        
		        <!-- Pages è‡ªå®šä¹‰   -->
		        
		        <li>
		            <a href="/about/" title="ä»‹ç»">
		                ä»‹ç»
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="å›¢é˜Ÿ">
		                å›¢é˜Ÿ
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="æ”¶é›†">
		                æ”¶é›†
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="æ ‡ç­¾">
		                æ ‡ç­¾
		            </a>
		        </li>
		        


            </ul>
            <!-- icons å›¾æ ‡   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/hanpoung" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="500px" href="http://500px.com" target="_blank" rel="noopener">
                            <i class="icon fa fa-500px"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="facebook" href="https://github.com/hanpoung" target="_blank" rel="noopener">
                            <i class="icon fa fa-facebook"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url(/images/webpack.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2>æ‰‹å†™Webpack 4.0</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <p>ç¡®è®¤è¿‡çœ¼ç¥ï¼Œä½ è¿˜æ˜¯æ²¡æœ‰å‡†å¤‡ç§‹æ‹›çš„äººï¼Ÿæ—¶é—´ä»“ä¿ƒã€‚è‡ªäº¬ä¸œ6æœˆ8å·å¼€å¯ç®¡åŸ¹ç”Ÿçš„æ‹›è˜ï¼Œå°±æ„å‘³ç€ç§‹æ‹›çš„å¼€å§‹ã€‚ç„¶è€Œä½ è¿˜åœ¨ç­‰ç€ç§‹å¤©çš„åˆ°æ¥ï¼Ÿä»Šå¹´å½¢åŠ¿åº”è¯¥æ›´ä¸ºä¸¥å³»ï¼Œéšç€å„å¤§æŠ€æœ¯(vue,webpackï¼Œreactï¼Œå¾®ä¿¡å°ç¨‹åº)ç”Ÿæ€è¶Šæ¥è¶Šæˆç†Ÿï¼Œè¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬è¦æ›´åŠ æ·±å…¥çš„å»äº†è§£ä»–ä»¬ï¼ŒæŒæ¡ä»–ä»¬ã€‚æ¯”å¦‚ä½ å†™vueé¡¹ç›®ï¼ŒçŸ¥é“vue-cliã€‚å†™çš„é¡¹ç›®ä¹Ÿæ— ä»¥ä¼¦æ¯”ï¼Œä½†æ˜¯ä½ æ˜¯å¦åˆä¼šå»äº†è§£ä¸‹vue-cliåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿæˆ–è®¸è¿™å°±æ˜¯é¢è¯•å®˜è¦é—®ä½ çš„é—®é¢˜ï¼šè¯·æ‰‹å†™ä¸€ä¸ªwebpack4.0çš„é…ç½®ã€‚<br><strong>å‰è¨€</strong><br>æœºä¼šæ€»æ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äººï¼Œè¦æƒ³åœ¨è¿™å…µè’é©¬ä¹±çš„æ±‚èŒå­£é‡Œå‡ºç±»æ‹”èƒï¼Œæ‹¿ä¸‹ä½ å¿ƒä¸­æœŸå¾…å·²ä¹…çš„offerã€‚é‚£ä¹ˆä½ æ›´å› è¯¥çŸ¥é“å¾ˆå¤šåˆ«äººä¸çŸ¥é“çš„ä¸œè¥¿ï¼Œä½ çš„ç¾½ç¿¼æ‰èƒ½ä¸°æ»¡ï¼Œæ‰èƒ½ç¿±ç¿”äºå¤©é™…ã€‚é¹°å‡»é•¿ç©ºï¼Œé çš„ä¸æ˜¯å¤©ç”Ÿï¼Œè€Œæ˜¯å¹´å°‘æ—¶æ–­å´–ä¹‹é™©ã€‚ç¬¨é¸Ÿå…ˆé£ï¼Œé çš„ä¸æ˜¯æ™ºæ…§ï¼Œè€Œæ˜¯å­œå­œä¸å€¦çš„åŠªåŠ›ã€‚<br><strong>webpackè¯¦è§£</strong><br>webpackæ˜¯ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œä»–çš„å®—æ—¨æ˜¯ä¸€åˆ‡é™æ€èµ„æºå³å¯æ‰“åŒ…ã€‚æœ‰äººå°±ä¼šé—®ä¸ºä»€ä¹ˆè¦webpackï¼Ÿwebpackæ˜¯ç°ä»£å‰ç«¯æŠ€æœ¯çš„åŸºçŸ³ï¼Œå¸¸è§„çš„å¼€å‘æ–¹å¼ï¼Œæ¯”å¦‚jquery,html,cssé™æ€ç½‘é¡µå¼€å‘å·²ç»è½åäº†ã€‚ç°åœ¨æ˜¯MVVMçš„æ—¶ä»£ï¼Œæ•°æ®é©±åŠ¨ç•Œé¢ã€‚webpackå°†ç°ä»£jså¼€å‘ä¸­çš„å„ç§æ–°å‹æœ‰ç”¨çš„æŠ€æœ¯ï¼Œé›†åˆæ‰“åŒ…ã€‚webpackçš„æè¿°é“ºå¤©ç›–åœ°ï¼Œæˆ‘å°±ä¸æµªè´¹å¤§å®¶çš„æ—¶é—´äº†ã€‚ç†è§£ä¸‹è¿™ç§å›¾å°±çŸ¥é“webpackçš„ç”Ÿæ€åœˆäº†:</p>
<p><strong>webpack4.0çš„é…ç½®</strong></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//å¼•å…¥nodeçš„pathæ¨¡å—</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¼•å…¥çš„webpack,ä½¿ç”¨lodash</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//å°†htmlæ‰“åŒ…</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//æ‰“åŒ…çš„cssæ‹†åˆ†,å°†ä¸€éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥  </span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// console.log(path.resolve(__dirname,'dist')); //ç‰©ç†åœ°å€æ‹¼æ¥</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//å…¥å£æ–‡ä»¶  åœ¨vue-cli main.js</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//webpackå¦‚ä½•è¾“å‡º</span>
        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//å®šä½ï¼Œè¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span>
        filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//æ¨¡å—çš„ç›¸å…³é…ç½®</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>     <span class="token comment" spellcheck="true">//æ ¹æ®æ–‡ä»¶çš„åç¼€æä¾›ä¸€ä¸ªloader,è§£æè§„åˆ™</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//es6 => es5 </span>
                include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                    path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token comment" spellcheck="true">// exclude:[], ä¸åŒ¹é…é€‰é¡¹ï¼ˆä¼˜å…ˆçº§é«˜äºtestå’Œincludeï¼‰</span>
                use<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    fallback<span class="token punctuation">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
                    use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                    <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                    <span class="token string">'less-loader'</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//å›¾ç‰‡loader</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg|gif)$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        loader<span class="token punctuation">:</span> <span class="token string">'file-loader'</span> <span class="token comment" spellcheck="true">//æ ¹æ®æ–‡ä»¶åœ°å€åŠ è½½æ–‡ä»¶</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>                  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//è§£ææ¨¡å—çš„å¯é€‰é¡¹  </span>
        <span class="token comment" spellcheck="true">// modules: [ ]//æ¨¡å—çš„æŸ¥æ‰¾ç›®å½• é…ç½®å…¶ä»–çš„cssç­‰æ–‡ä»¶</span>
        extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span><span class="token string">".less"</span><span class="token punctuation">,</span> <span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ç”¨åˆ°æ–‡ä»¶çš„æ‰©å±•å</span>
        alias<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//æ¨¡å¿«åˆ«ååˆ—è¡¨</span>
            utils<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'src/utils'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">//æ’è¿›çš„å¼•ç”¨, å‹ç¼©ï¼Œåˆ†ç¦»ç¾åŒ–</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'[name].css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//[name] é»˜è®¤  ä¹Ÿå¯ä»¥è‡ªå®šä¹‰name  å£°æ˜ä½¿ç”¨</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//å°†æ¨¡æ¿çš„å¤´éƒ¨å’Œå°¾éƒ¨æ·»åŠ csså’Œjsæ¨¡æ¿,dist ç›®å½•å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šï¼Œé¡¹ç›®åŒ…ã€‚å¯ä»¥ç›´æ¥ä¸Šçº¿</span>
            file<span class="token punctuation">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ‰“é€ å•é¡µé¢è¿ç”¨ æœ€åè¿è¡Œçš„ä¸æ˜¯è¿™ä¸ª</span>
            template<span class="token punctuation">:</span> <span class="token string">'src/index.html'</span>  <span class="token comment" spellcheck="true">//vue-cliæ”¾åœ¨è·Ÿç›®å½•ä¸‹</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">//srcä¸‹å…¶ä»–çš„æ–‡ä»¶ç›´æ¥å¤åˆ¶åˆ°distç›®å½•ä¸‹</span>
            <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span><span class="token string">'src/assets/favicon.ico'</span><span class="token punctuation">,</span>to<span class="token punctuation">:</span> <span class="token string">'favicon.ico'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//å¼•ç”¨æ¡†æ¶ jquery  lodashå·¥å…·åº“æ˜¯å¾ˆå¤šç»„ä»¶ä¼šå¤ç”¨çš„ï¼Œçœå»äº†import</span>
            <span class="token string">'_'</span><span class="token punctuation">:</span> <span class="token string">'lodash'</span>  <span class="token comment" spellcheck="true">//å¼•ç”¨webpack</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//æœåŠ¡äºwebpack-dev-server  å†…éƒ¨å°è£…äº†ä¸€ä¸ªexpress </span>
        port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>
        <span class="token function">before</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/test.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    code<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
                    message<span class="token punctuation">:</span> <span class="token string">'Hello World'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<p>å¤åˆ¶ä»£ç </p>
<p><strong>ä¸€ã€å‰ç«¯ç¯å¢ƒæ­å»º</strong><br>æˆ‘ä»¬ä½¿ç”¨npmæˆ–yarnæ¥å®‰è£…webpack</p>
<pre class=" language-javascript"><code class="language-javascript">npm install webpack webpack<span class="token operator">-</span>cli <span class="token operator">-</span>g 
# æˆ–è€… 
yarn global add webpack webpack<span class="token operator">-</span>cli
</code></pre>
<p>ä¸ºä»€ä¹ˆ<a href="https://link.juejin.im/?target=https%3A%2F%2Fwww.webpackjs.com%2Fconcepts%2F" target="_blank" rel="noopener">webpack</a>ä¼šåˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶å‘¢ï¼Ÿåœ¨webpack3ä¸­ï¼Œwebpackæœ¬èº«å’Œå®ƒçš„cliä»¥å‰éƒ½æ˜¯åœ¨åŒä¸€ä¸ªåŒ…ä¸­ï¼Œä½†åœ¨ç¬¬4ç‰ˆä¸­ï¼Œä»–ä»¬å·²ç»å°†ä¸¤è€…åˆ†å¼€æ¥æ›´å¥½åœ°ç®¡ç†å®ƒä»¬ã€‚<br>æ–°å»ºä¸€ä¸ªwebpackçš„æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸‹æ–°å»ºä¸€ä¸ªtry-webpack(é˜²æ­¢initæ—¶é¡¹ç›®åå’Œå®‰è£…åŒ…åŒå)å¹¶åˆå§‹åŒ–å’Œé…ç½®webpackã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">npm init <span class="token operator">-</span>y  <span class="token comment" spellcheck="true">//-y é»˜è®¤æ‰€æœ‰çš„é…ç½®</span>
 yarn add webpack webpack<span class="token operator">-</span>cli <span class="token operator">-</span>D  <span class="token comment" spellcheck="true">//-D webpackå®‰è£…åœ¨devDependenciesç¯å¢ƒä¸­</span>
<span class="token template-string"><span class="token string">``</span></span>`
</code></pre>
<p><strong>äºŒã€éƒ¨ç½²webpack</strong><br>åœ¨ä¸Šé¢æ­å»ºå¥½çš„ç¯å¢ƒé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ¥åˆ°package.jsoné‡Œé…ç½®æˆ‘ä»¬çš„scripts,è®©webpack</p>
<pre class=" language-javascript"><code class="language-javascript">  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --mode production"</span> <span class="token comment" spellcheck="true">//æˆ‘ä»¬åœ¨è¿™é‡Œé…ç½®ï¼Œå°±å¯ä»¥ä½¿ç”¨npm run build å¯åŠ¨æˆ‘ä»¬çš„webpack</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"webpack"</span><span class="token punctuation">:</span> <span class="token string">"^4.16.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-cli"</span><span class="token punctuation">:</span> <span class="token string">"^3.0.8"</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>é…ç½®å¥½æˆ‘ä»¬webpackçš„è¿è¡Œç¯å¢ƒæ—¶ï¼Œè”æƒ³ä¸‹vue-cliã€‚å¹³æ—¶ä½¿ç”¨vue-cliä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½®å¹¶ç”Ÿæˆé¡¹ç›®ã€‚æˆ‘ä»¬åœ¨srcä¸‹è¿›è¡Œé¡¹ç›®çš„å¼€å‘ï¼Œæœ€ånpm run build æ‰“åŒ…ç”Ÿæˆæˆ‘ä»¬çš„distçš„ç›®å½•ã€‚ä¸çŸ¥é“ä½ æ˜¯å¦è¿˜è®°å¾—ï¼Œè¿˜æ˜¯è®©æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€èŠ‚è®©æˆ‘ä»¬æ„Ÿå—ä¸‹è¿™å…¶ä¸­çš„æ­£ä¸ªæµç¨‹å§ã€‚<br><strong>ä¸‰ã€npm run build å‘ç”Ÿäº†ä»€ä¹ˆ</strong><br>åœ¨æˆ‘ä»¬çš„æ ¹é¡¹ç›®ä¸‹try-webpackæ–°å»ºä¸€ä¸ªsrcç›®å½•ã€‚åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚åœ¨é‡Œé¢æˆ‘ä»¬å¯ä»¥å†™ä»»æ„çš„ä»£ç ï¼Œä»¥æ¡ˆä¾‹ä¸ºä¸»:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
`
</code></pre>
<p>å†™å®Œä¹‹åæˆ‘ä»¬åœ¨ç»ˆç«¯è¿è¡Œæˆ‘ä»¬çš„å‘½ä»¤ npm run buildï¼›ä½ å°±ä¼šå‘ç°æ–°å¢äº†ä¸€ä¸ªdistç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ç€webpackæ‰“åŒ…å¥½çš„main.jsæ–‡ä»¶ã€‚è¿™å’Œæˆ‘ä»¬åœ¨vue-clié‡Œæ“ä½œæ˜¯ä¸€æ ·çš„ã€‚<br><strong>å››ã€webpackpé…ç½®æµç¨‹ç¯‡</strong><br>æˆ‘ä»¬åœ¨å¼€å‘æ˜¯ä¸€èˆ¬ä¼šæ‰“åŒ…srcä¸‹çš„ä»€ä¹ˆæ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å›å¿†ä¸€ä¸‹ï¼Œå…¶å®vue-clié¡¹ç›®srcä¸‹ä¸å°±è¿™å‡ ç‚¹å˜›ï¼š<br>Â·         å‘å¸ƒæ—¶éœ€è¦çš„htmlï¼Œcssï¼Œjs<br>Â·         cssé¢„ç¼–è¯‘å™¨stylusï¼Œlessï¼Œsass<br>Â·         es6çš„é«˜çº§è¯­æ³•<br>Â·         å›¾ç‰‡èµ„æº.pngï¼Œ.gifï¼Œ.icoï¼Œ.jpg<br>Â·         æ–‡ä»¶é—´çš„require<br>Â·         åˆ«å@ç­‰ä¿®é¥°ç¬¦</p>
<p>é‚£ä¹ˆæˆ‘å°†ä¼šåˆ†è¿™å‡ ç‚¹æ¥è®²è§£webpackä¸­webpack.config.jsçš„é…ç½®ï¼Œè·Ÿç€è„šæ­¥ï¼Œä¸€æ­¥ä¸€æ­¥çš„æ¥å®Œæˆæˆ‘ä»¬çš„æµç¨‹çº¿ã€‚<br><strong>âœï¸Htmlåœ¨webpackä¸­çš„é…ç½®</strong><br>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•try-webpackä¸‹æ–°å»ºwebpack.config.jsæ–‡ä»¶ï¼Œä»¥commonJSæ¨¡å—åŒ–æœºåˆ¶å‘å¤–è¾“å‡º,å¹¶ä¸”æ–°å»ºä¸€ä¸ªindex.htmlã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
`
</code></pre>
<p>é…ç½®æˆ‘ä»¬çš„å…¥å£entryï¼Œåœ¨vue-clié‡Œç›¸å½“äºè·Ÿç›®å½•ä¸‹çš„main.jsï¼Œæˆ‘ä»¬çš„å‡ºå£outputã€‚æˆ‘ä»¬å¯ä»¥æŠŠwebpackç†è§£ä¸ºä¸€ä¸ªå·¥å‚ï¼Œè¿›å…¥ç›¸å½“äºæŠŠå„ç§å„æ ·çš„åŸæ–™æ”¾è¿›æˆ‘ä»¬çš„å·¥å‚äº†ï¼Œç„¶åå·¥å‚è¿›è¡Œä¸€ç³»åˆ—çš„æ‰“åŒ…æ“ä½œæŠŠæ‰“åŒ…å¥½çš„ä¸œè¥¿ï¼Œå‘å¤–è¾“å‡ºï¼Œç„¶åå°±å¯ä»¥å»å‡ºå”®äº†(ä¸Šçº¿)ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å¼•å…¥æˆ‘ä»¬çš„nodeæ¨¡å—é‡Œçš„path</span>
<span class="token comment" spellcheck="true">//æµ‹è¯•ä¸‹ console.log(path.resolve(__dirname,'dist')); //ç‰©ç†åœ°å€æ‹¼æ¥</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//å…¥å£æ–‡ä»¶  åœ¨vue-cli main.js</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//webpackå¦‚ä½•å‘å¤–è¾“å‡º</span>
        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//å®šä½ï¼Œè¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span>
        filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span> <span class="token comment" spellcheck="true">//æ–‡ä»¶å[name].jsé»˜è®¤ï¼Œä¹Ÿå¯è‡ªè¡Œé…ç½®</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span>
</code></pre>
<p>HTMLæ‰“åŒ…æˆ‘ä»¬éœ€è¦å®‰è£…å¼•å…¥html-webpack-plugin</p>
<pre class=" language-javascript"><code class="language-javascript">yarn add html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span>D <span class="token comment" spellcheck="true">//åœ¨å¼€å‘ç¯å¢ƒä¸­å®‰è£…</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//å¼•å…¥æ‰“åŒ…æˆ‘ä»¬çš„HTML</span>
</code></pre>
<p>åœ¨module.exportsé‡Œé…ç½®æˆ‘ä»¬çš„plugins(æ’ä»¶):</p>
<pre class=" language-javascript"><code class="language-javascript"> plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">//æ’è¿›çš„å¼•ç”¨, å‹ç¼©ï¼Œåˆ†ç¦»ç¾åŒ–</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//å°†æ¨¡æ¿çš„å¤´éƒ¨å’Œå°¾éƒ¨æ·»åŠ csså’Œjsæ¨¡æ¿,dist ç›®å½•å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šï¼Œé¡¹ç›®åŒ…ã€‚å¯ä»¥ç›´æ¥ä¸Šçº¿</span>
            file<span class="token punctuation">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ‰“é€ å•é¡µé¢è¿ç”¨ æœ€åè¿è¡Œçš„ä¸æ˜¯è¿™ä¸ª</span>
            template<span class="token punctuation">:</span> <span class="token string">'src/index.html'</span>  <span class="token comment" spellcheck="true">//vue-cliæ”¾åœ¨è·Ÿç›®å½•ä¸‹</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre>
<p>é…ç½®å¥½åï¼Œåœ¨ç»ˆç«¯è¾“å…¥npm run devåwebpackå°†æˆ‘ä»¬çš„htmlæ‰“åŒ…å¥½å¹¶ä¸”è‡ªåŠ¨å°†æˆ‘ä»¬çš„jså¼•è¿›æ¥äº†ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>body<span class="token operator">></span>
    <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">></span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"main.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>
</code></pre>
<p>live-severæˆ‘ä»¬çš„distç›®å½•ï¼Œå¯åŠ¨ä¸€ä¸ª8080ç«¯å£ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„Hello Worldäº†ã€‚è¿™å°±æ˜¯æˆ‘ä»¬ä¸Šçº¿ç‰ˆçš„é¡µé¢ã€‚<br><strong>ğŸ‰cssåœ¨webpackä¸­çš„é…ç½®</strong><br>åœ¨æˆ‘ä»¬vue-clié‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨csså»å†™æˆ‘ä»¬çš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é«˜çº§stylusï¼Œlessï¼Œsassç­‰é¢„ç¼–è¯‘å™¨ã€‚è¿™é‡Œå°±ä»¥lessä¸ºä¾‹ï¼Œçœ‹çœ‹webpackæ€ä¹ˆå°†ä»–æ‰“åŒ…æˆä¸€ä¸ªcssã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">.</span>main <span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>åœ¨srcç›®å½•ä¸‹æ–°å»ºæˆ‘ä»¬çš„style.lessæ–‡ä»¶ï¼Œåœ¨é…ç½®ä¹‹å‰æˆ‘ä»¬éœ€è¦npmæˆ‘ä»¬çš„css-loaderå’Œsass-loaderï¼Œ sass<br>yarn add css-loader less less-loader style-loader -D</p>
<p>æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤æˆ‘ä»¬åœ¨packge.jsoné‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶</p>
<pre class=" language-javascript"><code class="language-javascript"> <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"css-loader"</span><span class="token punctuation">:</span> <span class="token string">"^1.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"html-webpack-plugin"</span><span class="token punctuation">:</span> <span class="token string">"^3.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"sass"</span><span class="token punctuation">:</span> <span class="token string">"^1.9.0"</span><span class="token punctuation">,</span>
    <span class="token string">"sass-loader"</span><span class="token punctuation">:</span> <span class="token string">"^7.0.3"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack"</span><span class="token punctuation">:</span> <span class="token string">"^4.16.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-cli"</span><span class="token punctuation">:</span> <span class="token string">"^3.0.8"</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>å®‰è£…å¥½åï¼Œæˆ‘ä»¬å¼€å§‹é…ç½®webpack.config.jsæ–‡ä»¶ã€‚è¿™é‡Œç”³æ˜ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„cssåœ¨distç›®å½•ä¸‹éœ€è¦å’Œæˆ‘ä»¬çš„HTMLåˆ†ç¦»ï¼Œè¿™æ˜¯è¿˜éœ€å¼•å…¥æˆ‘ä»¬çš„extract-text-webpack-pluginï¼Œå…ˆç„¶æˆ‘ä»¬å®‰è£…ä¸‹<br>yarn add extract-text-webpack-plugin -D</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œextract-text-webpack-pluginåœ¨4.0å¹¶ä¸æ”¯æŒè¿™æ ·çš„å®‰è£…ï¼Œå¤§å®¶å¯è‡ªè¡Œchromeã€‚äºæ˜¯æˆ‘ä»¬é€‰æ‹©æ¢ä¸€ç§æ–¹å¼,é€‰æ‹©4.00-beta.0ç‰ˆæœ¬çš„<br>yarn add extract-text-webpack-plugin@last -D</p>
<p>æ¥åˆ°æˆ‘ä»¬çš„module.exportsé‡Œï¼Œå®Œæˆmoudelçš„é…ç½®</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//æ‰“åŒ…çš„cssæ‹†åˆ†,å°†ä¸€éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥  </span>
 module<span class="token punctuation">:</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//æ¨¡å—çš„ç›¸å…³é…ç½®</span>
      rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>     <span class="token comment" spellcheck="true">//æ ¹æ®æ–‡ä»¶çš„åç¼€æä¾›ä¸€ä¸ªloader,è§£æè§„åˆ™</span>
          <span class="token punctuation">{</span>
              test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ­£åˆ™åŒ¹é…æˆ‘ä»¬ä»¥.lessç»“å°¾çš„æ–‡ä»¶</span>
              use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  fallback<span class="token punctuation">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
                  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                  <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                  <span class="token string">'less-loader'</span>
                  <span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   pluginsï¼š<span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'[name].css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//[name] é»˜è®¤  ä¹Ÿå¯ä»¥è‡ªå®šä¹‰name  å£°æ˜ä½¿ç”¨</span>
   <span class="token punctuation">]</span>
</code></pre>
<p>æˆ‘ä»¬åœ¨æ‰§è¡Œæˆ‘ä»¬çš„npm run buildä¹‹åå¹¶æ²¡æœ‰æˆ‘ä»¬çš„css,ä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸæ¥åœ¨webpacké…ç½®é‡Œcss in jsã€‚æ„æ€æ˜¯åœ¨æ‰“åŒ…æ˜¯æˆ‘ä»¬çš„cssæ˜¯æ‰“åŒ…åœ¨æˆ‘ä»¬çš„jsé‡Œçš„ï¼Œæ‰€æœ‰æˆ‘ä»¬å¼•å…¥äº†extract-text-webpack-pluginæ’ä»¶å°†cssä»é‡Œé¢å‰¥ç¦»å‡ºæ¥ã€‚ä¸è¿‡åˆä¸€ä¸ªé—®é¢˜ï¼Œrequireçš„æœºåˆ¶ï¼Ÿ<br>åœ¨æˆ‘ä»¬æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶çš„å¼•ç”¨require æŒ‰ç…§é¡ºåºæ¥æ‰“åŒ…ï¼Œè¿™å°±æ˜¯æ–‡ä»¶ä¾èµ–çš„æœºåˆ¶ã€‚</p>
<p>æ‰“åŒ…å¥½åæˆ‘ä»¬åœ¨live-serverï¼Œå‘ç°æˆ‘ä»¬çš„æ ·å¼ä¹Ÿä¸Šå»äº†ï¼Œå¹¶ä¸”csséƒ¨åˆ†åˆ†ç¦»å‡ºæ¥äº†ã€‚<br><strong>ğŸŠjsåœ¨webpackä¸­çš„é…ç½®</strong><br>ç°åœ¨éšç€es6çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„ä»£ç ä½¿ç”¨es6äº†ï¼Œä½†æ˜¯å¾ˆå¤šæµè§ˆå™¨å¹¶ä¸æ”¯æŒes6,æ¯”å¦‚async/awiatï¼Œconstã€‚å› æ­¤éœ€è¦æˆ‘ä»¬å¼•ç”¨babeæ¥æŠŠæˆ‘ä»¬es6çš„ä»£ç ç¼–è¯‘ä¸ºes5ã€‚åœ¨è·Ÿç›®å½•ä¸‹æ–°å»º.babelrc,ç®€å•é…ç½®ä¸‹</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><span class="token string">"presets"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"env"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre>
<p>å®‰è£…æˆ‘ä»¬çš„babelå¹¶åœ¨webpack.config.jsé‡Œmodule/rulesä¸‹è¿›è¡Œé…ç½®</p>
<pre class=" language-javascript"><code class="language-javascript">yarn add babel<span class="token operator">-</span>loader babel<span class="token operator">-</span>core  abel<span class="token operator">-</span>preset<span class="token operator">-</span>env <span class="token operator">-</span>D  <span class="token comment" spellcheck="true">//babelåŸºæœ¬çš„ä¸‰ä¸ªæ–‡ä»¶</span>
 <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//es6 => es5 </span>
    include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// exclude:[], ä¸åŒ¹é…é€‰é¡¹ï¼ˆä¼˜å…ˆçº§é«˜äºtestå’Œincludeï¼‰</span>
    use<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<p><strong>ğŸ¥•å›¾ç‰‡èµ„æºåœ¨webpackä¸­çš„é…ç½®</strong><br>åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªassetsæ–‡ä»¶ï¼Œé‡Œé¢æ”¾ç½®å‡ å¼ å›¾ç‰‡ã€‚å®‰è£…file-loaderæ ¹æ®æ–‡ä»¶åœ°å€åŠ è½½æ–‡ä»¶<br>yarn add file-loader -D åœ¨webpack.config.jsé‡Œmodule/rules</p>
<pre class=" language-javascript"><code class="language-javascript"> <span class="token punctuation">{</span>  
    test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg|gif)$/</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//åŒ¹é…æ‰€æœ‰æ ¼å¼çš„å›¾ç‰‡èµ„æº</span>
    use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'file-loader'</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>ğŸŒåˆ«å(@)åœ¨webpackä¸­çš„é…ç½®</strong><br>åœ¨src/index.jsé‡Œæˆ‘ä»¬å¼•å…¥</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> format <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'utils/format'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// utils ?  æ²¡æœ‰ç›¸å¯¹è·¯å¾„  å›æƒ³@  => åˆ«ååœ¨srcæ–°å»ºç›¸åº”çš„æ–‡ä»¶ã€‚åœ¨format.jsé‡Œæ¥å—ä¸€ä¸ªå‚æ•°å¹¶æŠŠå®ƒè½¬æˆå¤§å†™</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">**</span><span class="token keyword">function</span><span class="token operator">**</span> <span class="token function">format</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> chars<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>åœ¨webpackä¸­å¦‚ä½•é…ç½®æˆ‘ä»¬çš„åˆ«åå‘¢ï¼Ÿåœ¨vue-cliä¸­æˆ‘ä»¬ç»å¸¸@ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶æ„æ€å°±æ˜¯åœ¨srcç›®å½•ä¸‹ï¼Œç°åœ¨æˆ‘ä»¬å»ä¸€æ¢ç©¶ç«Ÿã€‚åœ¨moduleä¸‹,æ³¨æ„è·ŸrulesåŒçº§</p>
<pre class=" language-javascript"><code class="language-javascript"> resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//è§£ææ¨¡å—çš„å¯é€‰é¡¹  </span>
        <span class="token comment" spellcheck="true">// modules: [ ]//æ¨¡å—çš„æŸ¥æ‰¾ç›®å½• é…ç½®å…¶ä»–çš„cssç­‰æ–‡ä»¶</span>
        extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span><span class="token string">".less"</span><span class="token punctuation">,</span> <span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ç”¨åˆ°æ–‡ä»¶çš„æ‰©å±•å</span>
        alias<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//æ¨¡å¿«åˆ«ååˆ—è¡¨</span>
            utils<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'src/utils'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<p><strong>ğŸ’å…¶ä»–ä¸€äº›é™æ€èµ„æºåœ¨webpackä¸­çš„é…ç½®</strong><br>Â·         srcä¸‹å…¶ä»–çš„æ–‡ä»¶ç›´æ¥å¤åˆ¶åˆ°distç›®å½•ä¸‹ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªæ–‡ä»¶éƒ½éœ€è¦æ‰“åŒ…å¤„ç†çš„ï¼Œå¾ˆå¤šèµ„æºå¯èƒ½ç›´æ¥å°±å¯ä»¥å¤åˆ¶è¿‡å»ã€‚ä½¿ç”¨æˆ‘ä»¬çš„ CopyWebpackPluginæ’ä»¶<br>Â·         å¼•ç”¨æ¡†æ¶ jquery lodashå·¥å…·åº“æ˜¯å¾ˆå¤šç»„ä»¶ä¼šå¤ç”¨çš„ï¼Œçœå»äº†importã€‚ä½¿ç”¨webpack.ProvidePluginæ’ä»¶</p>
<p><strong>äº”ã€npm run dev å‘ç”Ÿäº†ä»€ä¹ˆ</strong><br>åœ¨vue-cliä¸­æˆ‘ä»¬å¯åŠ¨ç›‘å¬npm run devå¯ä»¥æ—¶æ—¶ç›‘æ§æˆ‘ä»¬srcä¸‹æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œé‚£ä»–åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ã€‚åœ¨webpacké‡Œå…¶å®åˆ›å»ºäº†ä¸€ä¸ªnodeè¿›ç¨‹ï¼Œé€šè¿‡webpack-dev-serverå…¶å†…éƒ¨å°è£…äº†ä¸€ä¸ªnodeçš„expressæ¨¡å—,å…¶é…ç½®é¡¹å¦‚ä¸‹</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//åœ¨package.jsoné‡Œå£°æ˜ä¸‹ä½¿ç”¨è„šæœ¬ npm run dev</span>
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --mode production"</span><span class="token punctuation">,</span>
    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server --mode development"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//åœ¨webpack.config.jsé‡Œé…ç½®port</span>
        port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>
        <span class="token function">before</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/test.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    code<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
                    message<span class="token punctuation">:</span> <span class="token string">'Hello World'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//æœåŠ¡äºwebpack-dev-server  å†…éƒ¨å°è£…äº†ä¸€ä¸ªexpress </span>
</code></pre>
<p><strong>å¯„è¯­</strong><br>webpacké‡Œé¢åšå¤§ç²¾æ·±ï¼Œè¿™åªæ˜¯åˆšå…¥é—¨ã€‚è¦ç ”ç©¶å…¶é‡Œé¢çœŸæ­£çš„ä¸œè¥¿ï¼Œå¹¶éä¸€æœä¸€å¤•ã€‚tapableã€webpackçš„ç”Ÿå‘½å‘¨æœŸç­‰ç­‰ã€‚å¦‚æœä½ æƒ³æ·±å…¥çš„ç†è§£webpackï¼Œæ¨è<a href="https://juejin.im/post/5aa3d2056fb9a028c36868aa" target="_blank" rel="noopener">è…¾è®¯ivwebå›¢é˜Ÿ</a>å…³äºwebpackçš„æ·±å…¥ç ”ç©¶ã€‚è¿™ä¹Ÿæ˜¯æˆ‘æœ€è¿‘åœ¨çœ‹çš„ï¼Œåªæœ‰ç†è§£æ›´å¤šï¼Œä½ æ‰èƒ½é£çš„æ›´è¿œã€‚å¤œæ·±äº†ï¼Œæ—¶é—´è¿‡çš„å¾ˆå¿«ã€‚æ¥¼ä¸»ä¹Ÿå¤ªå›°äº†ï¼Œåœç¬”äºæ­¤ï¼Œæœ›å¤šå¤šåŒ…æ¶µã€‚é™„ä¸Šæˆ‘githubå…³äºwebpack4.0é…ç½®çš„å­¦ä¹ demo<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FWsmDyj%2Fwebpack" target="_blank" rel="noopener">ç‚¹è¿™é‡Œ</a>ã€‚</p>

            </div>

            <!-- Post Comments -->
            
    <!-- ä½¿ç”¨ DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">ç‚¹å‡»æŸ¥çœ‹è¯„è®º</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/05/07/webpackæ‰‹å†™/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/05/07/webpackæ‰‹å†™/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright ç‰ˆæƒ start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
			
        </div>
    </div>
</body>



 	
</html>
